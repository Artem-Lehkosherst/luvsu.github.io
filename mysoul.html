<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Для любимой булочки</title>
  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      margin: 0;
      font-family: sans-serif;
      background: #ffe6e6 url("background/1.jpg") no-repeat center center;
      background-size: cover;
      background-attachment: scroll;
    }
    section {
      height: 100vh;
      position: relative;
    }

    #hero {
      overflow: hidden;
      background: #ffe6e6 url("background/1.jpg") no-repeat center center;
      background-size: cover;
    }
    .card {
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid red;
      padding: 20px;
      text-align: center;
      z-index: 100;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    #hero-scroll {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100px;
      cursor: pointer;
      z-index: 101;
    }
    #hero-scroll:hover {
      background: rgba(0, 0, 0, 0.05);
    }

    .heart {
      --heart-size: 20px;
      position: absolute;
      bottom: -50px;
      width: var(--heart-size);
      height: var(--heart-size);
      background-color: red;
      transform: rotate(45deg);
      animation: floatUp linear infinite;
    }
    .heart:before,
    .heart:after {
      content: "";
      position: absolute;
      width: var(--heart-size);
      height: var(--heart-size);
      background-color: red;
      border-radius: 50%;
    }
    .heart:before {
      top: calc(-0.5 * var(--heart-size));
      left: 0;
    }
    .heart:after {
      top: 0;
      left: calc(0.5 * var(--heart-size));
    }
    .heart.alt {
      background-color: hotpink;
    }
    .heart.alt:before,
    .heart.alt:after {
      background-color: hotpink;
      border-radius: 40%;
    }
    @keyframes floatUp {
      0% {
        transform: translateX(0) translateY(0) rotate(45deg);
        opacity: 1;
      }
      100% {
        transform: translateX(50px) translateY(-800px) rotate(45deg);
        opacity: 0;
      }
    }

    #slider {
      background: #ffe6e6 url("background/1.jpg") no-repeat center center;
      background-size: cover;
      background-attachment: scroll;
      overflow: hidden;
    }
    .slider-container {
      position: relative;
      width: 80%;
      height: 80%;
      margin: 0 auto;
    }
    .slider-image {
      position: absolute;
      top: 50%;
      left: 50%;
      max-width: 100%;
      max-height: 100%;
      transition: transform 0.8s ease, opacity 0.8s ease;
      opacity: 0;
      z-index: 1;
    }
    .slider-image.active {
      opacity: 1;
      z-index: 2;
      transform: translate(-50%, -50%) scale(1);
    }
    .slider-image.next {
      opacity: 0.8;
      z-index: 1;
      transform: translate(-30%, -50%) scale(0.9);
    }
    .slider-nav {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 50%;
      cursor: pointer;
      z-index: 10;
    }
    .slider-nav-left {
      left: 0;
    }
    .slider-nav-right {
      right: 0;
    }
  </style>
</head>
<body>
  <section id="hero">
    <div class="card">
      <h1>Мышка моя</h1>
      <p>Ты — моё чудо, моё вдохновение, моя самая нежная.</p>
      <p>Ты — мечта, ставшая явью, подарок судьбы, моё солнце.</p>
      <p>Я безумно благодарен тебе за твою поддержку,</p>
      <p>за умение понять, простить, поддержать и выслушать в трудную минуту.</p>
      <p>Спасибо, что ты есть! ❤️</p>
      <p style="text-align: right;">На веки твой, Тёма</p>


    </div>
    <div id="hero-scroll"></div>
  </section>

  <section id="slider">
    <div class="slider-container">
      <img src="luv/1.jpg" alt="Фото 1" class="slider-image active">
      <img src="luv/2.jpg" alt="Фото 2" class="slider-image">
      <img src="luv/3.jpg" alt="Фото 3" class="slider-image">
      <img src="luv/4.jpg" alt="Фото 4" class="slider-image">
      <img src="luv/5.jpg" alt="Фото 5" class="slider-image">
      <img src="luv/6.jpg" alt="Фото 6" class="slider-image">
      <img src="luv/7.jpg" alt="Фото 7" class="slider-image">
      <img src="luv/8.jpg" alt="Фото 8" class="slider-image">
      <img src="luv/9.jpg" alt="Фото 9" class="slider-image">
      <img src="luv/10.jpg" alt="Фото 10" class="slider-image">
      <img src="luv/11.jpg" alt="Фото 10" class="slider-image">
      <img src="luv/12.jpg" alt="Фото 10" class="slider-image">
      <img src="luv/13.jpg" alt="Фото 10" class="slider-image">
      <img src="luv/14.jpg" alt="Фото 10" class="slider-image">
      <div class="slider-nav slider-nav-left"></div>
      <div class="slider-nav slider-nav-right"></div>
    </div>
  </section>

  <script>
    function createHeart(container) {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      if (Math.random() < 0.5) {
        heart.classList.add('alt');
      }
      const size = Math.random() * 30 + 10;
      heart.style.setProperty('--heart-size', size + 'px');
      heart.style.left = Math.random() * container.offsetWidth + 'px';
      const duration = Math.random() * 5 + 5;
      heart.style.animationDuration = duration + 's';
      const delay = Math.random() * 5;
      heart.style.animationDelay = delay + 's';
      container.appendChild(heart);

      setTimeout(() => {
        heart.remove();
        createHeart(container);
      }, (duration + delay) * 1000);
    }

    const heartsCount = 20;
    const heroSection = document.getElementById('hero');
    const sliderSection = document.getElementById('slider');

    for (let i = 0; i < heartsCount; i++) {
      createHeart(heroSection);
    }

    for (let i = 0; i < heartsCount; i++) {
      createHeart(sliderSection);
    }
  </script>

  <script>
    let sections = document.querySelectorAll("section");
    let currentSection = 0;
    let isAnimating = false;

    function smoothScrollTo(targetY, duration, callback) {
      const startY = window.scrollY;
      const diff = targetY - startY;
      let startTime = null;

      function step(timestamp) {
        if (!startTime) startTime = timestamp;
        const time = timestamp - startTime;
        let percent = Math.min(time / duration, 1);
        // Функция сглаживания easeInOutQuad
        let eased = percent < 0.5
          ? 2 * percent * percent
          : -1 + (4 - 2 * percent) * percent;
        window.scrollTo(0, startY + diff * eased);
        if (time < duration) {
          requestAnimationFrame(step);
        } else {
          if (callback) callback();
        }
      }
      requestAnimationFrame(step);
    }

    function scrollToSection(index) {
      if (index < 0 || index >= sections.length) return;
      isAnimating = true;
      const targetY = sections[index].offsetTop;
      smoothScrollTo(targetY, 800, function() {
        isAnimating = false;
        currentSection = index;
      });
    }

    document.getElementById('hero-scroll').addEventListener('click', function(e) {
      if (!isAnimating && currentSection < sections.length - 1) {
        scrollToSection(currentSection + 1);
      }
    });

    window.addEventListener("wheel", function(e) {
      if (isAnimating) return;
      if (e.deltaY > 0) {
        if (currentSection < sections.length - 1) {
          e.preventDefault();
          scrollToSection(currentSection + 1);
        }
      } else {
        if (currentSection > 0) {
          e.preventDefault();
          scrollToSection(currentSection - 1);
        }
      }
    }, {passive: false});
  </script>

  <script>
    const sliderImages = document.querySelectorAll('.slider-image');
    let currentSlide = 0;
    let sliderAnimating = false;

    function updateNextSlide() {
      sliderImages.forEach(img => img.classList.remove('next'));
      let nextSlide = (currentSlide + 1) % sliderImages.length;
      sliderImages[nextSlide].classList.add('next');
    }
    updateNextSlide();

    function goToNextSlide() {
      if (sliderAnimating) return;
      sliderAnimating = true;

      let current = sliderImages[currentSlide];
      let nextSlide = (currentSlide + 1) % sliderImages.length;
      let next = sliderImages[nextSlide];

      current.classList.remove('active');
      next.classList.remove('next');
      next.classList.add('active');

      setTimeout(() => {
        currentSlide = nextSlide;
        updateNextSlide();
        sliderAnimating = false;
      }, 800);
    }

    function goToPrevSlide() {
      if (sliderAnimating) return;
      sliderAnimating = true;

      let current = sliderImages[currentSlide];
      let prevSlide = (currentSlide - 1 + sliderImages.length) % sliderImages.length;
      let prev = sliderImages[prevSlide];

      current.classList.remove('active');
      prev.classList.add('active');

      currentSlide = prevSlide;
      updateNextSlide();
      setTimeout(() => {
        sliderAnimating = false;
      }, 800);
    }

    document.querySelector('.slider-nav-left').addEventListener('click', function(e) {
      e.preventDefault();
      goToPrevSlide();
    });
    document.querySelector('.slider-nav-right').addEventListener('click', function(e) {
      e.preventDefault();
      goToNextSlide();
    });
  </script>
</body>
</html>
